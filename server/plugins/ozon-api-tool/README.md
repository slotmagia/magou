# 🛒 Ozon API 请求工具

一个专为 Ozon 卖家平台设计的浏览器插件，帮助您轻松发送 API 请求、管理 cookies、调试接口。

## ✨ 主要功能

### 🚀 API 请求管理
- **预设常用接口**：财务信息、语言设置、公司信息等
- **自定义请求**：支持 GET、POST、PUT、DELETE 等所有 HTTP 方法
- **智能表单验证**：实时 JSON 格式验证
- **请求历史记录**：自动保存请求记录，支持重复使用

### 🍪 Cookie 管理
- **一键提取**：自动提取当前页面的所有 cookies
- **智能应用**：自动将 cookies 应用到 API 请求中
- **手动管理**：支持手动输入和编辑 cookie 字符串
- **安全存储**：本地加密存储，保护隐私

### 📊 调试工具
- **详细响应信息**：显示状态码、响应头、响应数据
- **请求时间统计**：监控 API 响应时间
- **错误诊断**：详细的错误信息和解决建议
- **导出功能**：支持导出请求历史和配置

## 📦 安装方法

### 方法一：开发者模式安装（推荐）

1. **下载插件文件**
   ```bash
   # 克隆或下载整个项目
   git clone [项目地址]
   cd admin/plugins/ozon-api-tool
   ```

2. **打开 Chrome 扩展管理页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或点击：Chrome 菜单 → 更多工具 → 扩展程序

3. **启用开发者模式**
   - 在页面右上角开启"开发者模式"开关

4. **加载插件**
   - 点击"加载已解压的扩展程序"
   - 选择 `plugins/ozon-api-tool` 文件夹
   - 确认安装

### 方法二：打包安装

1. **打包插件**
   - 在扩展管理页面点击"打包扩展程序"
   - 选择插件目录，生成 `.crx` 文件

2. **安装打包文件**
   - 将 `.crx` 文件拖拽到扩展管理页面
   - 确认安装

## 🎯 使用指南

### 快速开始

1. **访问 Ozon 卖家平台**
   - 登录到 `https://seller.ozon.ru`
   - 确保已正常登录

2. **提取 Cookies**
   - 点击插件图标打开面板
   - 切换到"Cookie 管理"标签页
   - 点击"📥 提取 Cookies"按钮

3. **发送 API 请求**
   - 切换到"请求配置"标签页
   - 选择预设的 API 类型或自定义
   - 点击"🚀 发送请求"

### 详细功能说明

#### 🔧 请求配置

**API 类型预设：**
- `💰 财务信息`：获取公司财务数据
- `🌐 获取语言`：获取用户语言设置
- `🏢 公司信息`：获取公司基本信息
- `👤 用户配置`：获取用户配置信息
- `⚙️ 自定义`：完全自定义请求

**配置选项：**
- **请求 URL**：API 接口地址
- **请求方法**：HTTP 方法（GET、POST 等）
- **公司 ID**：您的 Ozon 公司标识
- **自定义请求头**：JSON 格式的额外请求头
- **请求体**：JSON 格式的请求数据

#### 🍪 Cookie 管理

**提取方式：**
- **自动提取**：从当前页面自动获取
- **手动输入**：粘贴 cookie 字符串
- **浏览器存储**：从浏览器存储中读取

**管理功能：**
- **查看列表**：显示所有已保存的 cookies
- **清空数据**：删除所有 cookies
- **实时更新**：自动同步最新的认证信息

#### 📈 请求历史

**记录内容：**
- 请求 URL 和方法
- 请求时间和响应状态
- 完整的请求和响应数据
- 执行时间统计

**操作功能：**
- **快速重用**：点击历史记录快速加载配置
- **导出数据**：导出为 JSON 文件
- **清空历史**：删除所有历史记录

## 🛠️ 高级功能

### 🔍 调试模式

启用调试模式可以获得更详细的日志信息：

```javascript
// 在浏览器控制台中执行
chrome.runtime.sendMessage({action: 'toggleDebug'});
```

### 📤 数据导出/导入

**导出配置：**
```javascript
// 导出所有数据
chrome.runtime.sendMessage({action: 'exportData'}, (response) => {
    console.log('导出数据：', response.data);
});
```

**导入配置：**
```javascript
// 导入数据
chrome.runtime.sendMessage({
    action: 'importData',
    data: importedData
});
```

### 🔧 自定义配置

修改插件配置：

```javascript
// 更新配置
chrome.runtime.sendMessage({
    action: 'updateConfig',
    config: {
        autoExtractCookies: true,
        maxHistoryItems: 100,
        debugMode: false
    }
});
```

## 🔐 安全说明

### 数据隐私

- **本地存储**：所有数据仅存储在您的浏览器本地
- **不上传服务器**：插件不会将任何数据发送到外部服务器
- **加密保护**：敏感信息使用浏览器内置加密存储

### 使用权限

插件请求的权限及用途：

- `activeTab`：访问当前活动标签页，用于提取 cookies
- `storage`：本地存储配置和历史记录
- `https://seller.ozon.ru/*`：访问 Ozon 卖家平台
- `cookies`：读取和管理 cookies
- `scripting`：在页面中注入脚本

## 🐛 故障排除

### 常见问题

**Q: 插件无法提取 cookies**
A: 请确保：
- 已在 Ozon 页面上使用插件
- 浏览器允许插件访问页面
- 已正常登录 Ozon 账户

**Q: API 请求失败（403/401 错误）**
A: 请检查：
- Cookies 是否已正确提取
- 请求头是否完整
- 公司 ID 是否正确
- 登录会话是否有效

**Q: 插件界面显示异常**
A: 尝试：
- 刷新页面
- 重新启用插件
- 清除浏览器缓存
- 重新安装插件

### 调试步骤

1. **开启调试模式**
   ```javascript
   chrome.runtime.sendMessage({action: 'toggleDebug'});
   ```

2. **查看控制台日志**
   - 按 F12 打开开发者工具
   - 查看 Console 标签页的日志信息

3. **检查网络请求**
   - 在 Network 标签页查看请求详情
   - 对比成功和失败的请求差异

## 📞 技术支持

如果您遇到问题或有改进建议，请：

1. **查看日志**：启用调试模式查看详细日志
2. **检查版本**：确保使用最新版本
3. **提供信息**：报告问题时请提供错误信息和操作步骤

## 🔄 更新日志

### v1.0.0 (2024-01-20)
- ✨ 首次发布
- 🚀 支持常用 Ozon API 请求
- 🍪 自动 Cookie 管理
- 📊 请求历史记录
- 🎨 现代化用户界面
- 🔐 安全的本地存储

## 📄 许可证

本项目仅供学习和研究使用，请遵守相关法律法规和服务条款。

---

**⚠️ 重要提醒：**
- 请确保您有权访问相关 API 接口
- 遵守 Ozon 平台的使用条款
- 不要滥用 API 接口，避免触发频率限制
- 保护好您的账户信息和 cookies 数据


